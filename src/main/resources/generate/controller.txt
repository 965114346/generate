package {controllerPkgName};

import lombok.AllArgsConstructor;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.*;

import {beanPackageName}.{beanName};
import {beanPackageName}.PageBean;
import {beanPackageName}.PageResult;
import {beanPackageName}.Result;
import {servicePackageName}.{serviceName};

@Controller
@RequestMapping("/{beanParamName}s")
@AllArgsConstructor(onConstructor = @__(@Autowired))
public class {controllerName} {

    private {serviceName} {service};

    @GetMapping("/index")
    public String index() {
        return "{bean}";
    }

    @GetMapping("/{id}")
    @ResponseBody
    public {beanName} findById(@PathVariable Long id) {
        return {service}.findById(id);
    }

    @GetMapping
    @ResponseBody
    public PageResult<{beanName}> list(PageBean pageBean, {beanName} {bean}) {
        return {service}.findAll(pageBean, {bean});
    }

    @PostMapping
    @ResponseBody
    public Result save(@RequestBody {beanName} {bean}) {
        return {service}.save({bean});
    }

    @PutMapping
    @ResponseBody
    public Result update(@RequestBody {beanName} {bean}) {
        return {service}.update({bean});
    }

    @DeleteMapping("/{id}")
    @ResponseBody
    public Result delete(@PathVariable Long id) {
        return {service}.deleteById(id);
    }
}
